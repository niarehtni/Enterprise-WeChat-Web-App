(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-e93c766c"],{"0653":function(t,e,a){"use strict";a("68ef"),a("5c56")},"1a04":function(t,e,a){},"34e9":function(t,e,a){"use strict";var l=a("2638"),s=a.n(l),i=a("d282"),r=a("ba31"),c=a("b1d2"),n=Object(i.a)("cell-group"),o=n[0],u=n[1];function d(t,e,a,l){var i,n=t("div",s()([{class:[u(),((i={})[c.d]=e.border,i)]},Object(r.b)(l,!0)]),[null==a.default?void 0:a.default()]);return e.title||a.title?t("div",[t("div",{class:u("title")},[a.title?a.title():e.title]),n]):n}d.props={title:String,border:{type:Boolean,default:!0}},e.a=o(d)},"5c56":function(t,e,a){},"666f":function(t,e,a){"use strict";a.d(e,"e",function(){return i}),a.d(e,"a",function(){return n}),a.d(e,"c",function(){return s}),a.d(e,"d",function(){return r}),a.d(e,"b",function(){return c});var l=a("b775");function i(t){return Object(l.a)({url:"/api/bss/v1/bss/line/task/enterprise-wechat/patcher/selectLineTask",method:"post",data:t})}function n(t){return Object(l.a)({url:"/api/line/line/task/detail",method:"get",params:t})}function s(t){return Object(l.a)({url:"/api/bss/v1/bss/tender/listByLineId",method:"post",data:t})}function r(t){return Object(l.a)({url:"/api/line/line/task/log/list",method:"get",params:t})}function c(t){return Object(l.a)({url:"/api/line/v1/wechat/corp/getMediaIdOfLineDetail",method:"get",params:t})}},"66b9":function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("e3b3"),a("bc1b")},7744:function(t,e,a){"use strict";var l=a("c31d"),i=a("2638"),f=a.n(i),n=a("d282"),b=a("a142"),_=a("ba31"),m=a("48f4"),s=a("dfaf"),p=a("ad06"),r=Object(n.a)("cell"),c=r[0],g=r[1];function o(a,l,i,e){var t=l.icon,n=l.size,s=l.title,r=l.label,c=l.value,o=l.isLink,u=i.title||Object(b.b)(s);var d=o||l.clickable,v={clickable:d,center:l.center,required:l.required,borderless:!l.border};return n&&(v[n]=n),a("div",f()([{class:g(v),attrs:{role:d?"button":null,tabindex:d?0:null},on:{click:function(t){Object(_.a)(e,"click",t),Object(m.a)(e)}}},Object(_.b)(e)]),[i.icon?i.icon():t?a(p.a,{class:g("left-icon"),attrs:{name:t,classPrefix:l.iconPrefix}}):void 0,function(){if(u)return a("div",{class:[g("title"),l.titleClass],style:l.titleStyle},[i.title?i.title():a("span",[s]),function(){if(i.label||Object(b.b)(r))return a("div",{class:[g("label"),l.labelClass]},[i.label?i.label():r])}()])}(),function(){if(i.default||Object(b.b)(c))return a("div",{class:[g("value",{alone:!u}),l.valueClass]},[i.default?i.default():a("span",[c])])}(),function(){var t=i["right-icon"];if(t)return t();if(o){var e=l.arrowDirection;return a(p.a,{class:g("right-icon"),attrs:{name:e?"arrow-"+e:"arrow"}})}}(),null==i.extra?void 0:i.extra()])}o.props=Object(l.a)({},s.a,{},m.c),e.a=c(o)},"7b8c":function(t,e,a){"use strict";var l=a("b9dd");a.n(l).a},a8b3:function(t,e,a){"use strict";a.r(e);a("a481"),a("57e7"),a("c5f6");var l,i=a("bd86"),n=(a("66b9"),a("b650")),s=(a("0653"),a("34e9")),r=(a("c194"),a("7744")),c=(a("bda7"),a("5e46")),o=(a("da3c"),a("0b33")),u=(a("c3a6"),a("ad06")),d=(a("e7e5"),a("d399")),v=(a("a52c"),a("2ed4")),f=(a("7f7f"),a("537a"),a("ac28")),b=a("666f"),_=a("c24f"),m=(a("a715"),window.wx),p={name:"LineDetail",components:(l={},Object(i.a)(l,f.a.name,f.a),Object(i.a)(l,v.a.name,v.a),Object(i.a)(l,d.a.name,d.a),Object(i.a)(l,u.a.name,u.a),Object(i.a)(l,o.a.name,o.a),Object(i.a)(l,c.a.name,c.a),Object(i.a)(l,r.a.name,r.a),Object(i.a)(l,s.a.name,s.a),Object(i.a)(l,n.a.name,n.a),l),data:function(){return{lineId:"",listQuery:{state:0},active:1,detail:{},clueDetail:[],disable:!1,logList:[],follow:[],action:[],total:0,page:1,show:!1,actions:[{name:"产品介绍",color:"#3F8AF2"},{name:"推荐线路",color:"#3F8AF2"}],loadedAll:!1,backBtn:!1,timeDiff:"",monthlyTransaction:""}},mounted:function(){var t=this.$route.query.id;this.lineId=t,this.timeDiff=this.$route.query.timeDiff,this.monthlyTransaction=this.$route.query.monthlyTransaction,this.backBtn=this.$route.query.backBtn,this.getDetail(t)},beforeRouteLeave:function(t,e,a){this.$destroy(!0),a(!0)},methods:{getDetail:function(t){var e=this;Object(b.a)({lineId:t}).then(function(t){t.data.success&&(e.detail=t.data.data)}),Object(b.c)({page:1,limit:100,lineId:t}).then(function(t){t.data.success&&(e.clueDetail=t.data.data)}),Object(b.d)({lineId:t}).then(function(t){t.data.success&&(e.logList=t.data.data)})},pushSendLink:function(){d.a.loading({message:"正在生产二维码...",forbidClick:!0});var l=window.location.href,i=this;i.disable=!0,Object(b.b)({lineId:i.lineId,busiType:i.detail.busiType}).then(function(t){if(t.data.success){var a=t.data.data;Object(_.f)({url:l}).then(function(t){if(t.data.success){var e=t.data.data;m.config({beta:!0,debug:!1,appId:e.corpId,timestamp:Number(e.timestamp),nonceStr:e.nonceStr,signature:e.signature,jsApiList:["agentConfig"]}),m.ready(function(){m.checkJsApi({jsApiList:["agentConfig","sendChatMessage","getCurExternalContact"],success:function(){Object(_.e)({agentId:"1000013",url:l}).then(function(t){if(t.data.success){var e=t.data.data;m.agentConfig({corpid:e.corpId,agentid:e.agentId,timestamp:""+e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:["sendChatMessage","getCurExternalContact"],success:function(){m.invoke("sendChatMessage",{msgtype:"image",image:{mediaid:a}},function(t){d.a.clear(),i.disable=!1;var e={lineId:i.lineId,timeDiff:i.timeDiff,monthlyTransaction:i.monthlyTransaction};localStorage.setItem("lineIdNeedBack",JSON.stringify(e))})},fail:function(t){-1<t.errMsg.indexOf("is not a function")&&alert('<i class="weui-icon-warn">版本过低请升级</i>')}})}})},fail:function(){alert("版本过低请升级")}})}),m.error(function(t){})}})}})},goLine:function(){this.$router.replace({path:"/linecommend"})}}},g=(a("7b8c"),a("2877")),h=Object(g.a)(p,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"linedetail"},[a("div",{staticClass:"list-wrap"},[a("van-tabs",{attrs:{color:"#3986CB",sticky:""},model:{value:e.listQuery.state,callback:function(t){e.$set(e.listQuery,"state",t)},expression:"listQuery.state"}},[a("van-tab",{attrs:{title:"基本"}},[a("h2",{staticClass:"van-doc-demo-block__title"},[e._v("\n          基本信息\n        ")]),e._v(" "),a("van-cell-group",[a("van-cell",{attrs:{title:"货主",value:e._f("DataIsNull")(e.detail.customerName)}}),e._v(" "),a("van-cell",{attrs:{title:"城市",value:e._f("DataIsNull")(e.detail.cityName)}}),e._v(" "),a("van-cell",{attrs:{title:"线路名称",value:e._f("DataIsNull")(e.detail.lineName)}}),e._v(" "),a("van-cell",{attrs:{title:"货物类型",value:e._f("DataIsNull")(e.detail.cargoType)}}),e._v(" "),a("van-cell",{attrs:{title:"收货人类型",value:e._f("DataIsNull")(e.detail.receiverType)}}),e._v(" "),a("van-cell",{attrs:{title:"车型",value:e._f("DataIsNull")(e.detail.carTypeName)}}),e._v(" "),a("van-cell",{attrs:{title:"仓位置",value:e._f("DataIsNull")(e.detail.warehouse)}}),e._v(" "),a("van-cell",{attrs:{title:"配送区域是否固定",value:2===e.detail.distributionSites?"否":"是"}}),e._v(" "),a("van-cell",{attrs:{title:"是否需要返仓",value:2===e.detail.returnWarehouse?"否":"是"}}),e._v(" "),a("van-cell",{attrs:{title:"是否需要搬运",value:2===e.detail.carry?"否":"是"}}),e._v(" "),a("van-cell",{attrs:{title:"是否需要回单",value:2===e.detail.returnBill?"否":"是"}}),e._v(" "),a("van-cell",{attrs:{title:"收入结算方式",value:2===e.detail.incomeSettlementMethodName?"否":"是"}}),e._v(" "),a("van-cell",{attrs:{title:"货主单趟最低报价",value:2===e.detail.preLowestQuotations?"否":"是"}}),e._v(" "),a("van-cell",{attrs:{title:"预估单趟费用(元)(含油耗、过路、过桥)",value:2===e.detail.monthlyFuelConsumption?"否":"是"}}),e._v(" "),a("van-cell",{attrs:{title:"单趟去油净收入",value:Number(e.detail.preLowestQuotations)-Number(e.detail.monthlyFuelConsumption)?Number(e.detail.preLowestQuotations)-Number(e.detail.monthlyFuelConsumption):0}}),e._v(" "),2===e.detail.incomeSettlementMethod?a("van-cell",{attrs:{title:"油卡结算(%)",value:e._f("DataIsNull")(e.detail.fuelRatio)}}):e._e(),e._v(" "),2===e.detail.incomeSettlementMethod?a("van-cell",{attrs:{title:"线路区域",value:e._f("DataIsNull")(e.detail.provinceAreaName+e.detail.cityAreaName+e.detail.countyAreaName)}}):e._e(),e._v(" "),2===e.detail.incomeSettlementMethod?a("van-cell",{attrs:{title:"具体区域范围",value:e._f("DataIsNull")(e.detail.districtArea)}}):e._e(),e._v(" "),a("van-cell",{attrs:{title:"线路编号",value:e._f("DataIsNull")(e.detail.lineId)}}),e._v(" "),a("van-cell",{attrs:{title:"线路入池原因",value:e._f("DataIsNull")(e.detail.occurReasonName)}}),e._v(" "),a("van-cell",{attrs:{title:"可上车数",value:e._f("DataIsNull")(e.detail.deployNum)}}),e._v(" "),a("van-cell",{attrs:{title:"线路稳定性",value:e._f("DataIsNull")(e.detail.stabilityRateName)}}),e._v(" "),a("van-cell",{attrs:{title:"账期",value:e._f("DataIsNull")(e.detail.billingCycle)}}),e._v(" "),a("van-cell",{attrs:{title:"创建线路难度",value:e._f("DataIsNull")(e.detail.handlingDifficultyDegreeName)}}),e._v(" "),a("van-cell",{attrs:{title:"备注信息",value:e._f("DataIsNull")(e.detail.remark)}}),e._v(" "),a("van-cell",{attrs:{title:"线路类型",value:e._f("DataIsNull")(e.detail.distinguishedTypeName)}}),e._v(" "),0<e.detail.waitDirveValidityDuration?a("van-cell",{attrs:{title:"线路失效截止时间",value:e._f("DataIsNull")(e.detail.waitDirveValidity)}}):e._e(),e._v(" "),0<e.detail.waitDirveValidityDuration?a("van-cell",{attrs:{title:"等待上车有效期(天)",value:e._f("DataIsNull")(e.detail.waitDirveValidityDuration)}}):e._e(),e._v(" "),a("van-cell",{attrs:{title:"首岗是否有人跟车",value:2===e.detail.firstNeededFollow?"否":"是"}})],1),e._v(" "),e.detail.lineName?e._e():a("p",{staticClass:"noMore"},[e._v("\n          暂无信息\n        ")])],1),e._v(" "),a("van-tab",{attrs:{title:"配送"}},[a("h2",{staticClass:"van-doc-demo-block__title"},[e._v("\n          配送信息\n        ")]),e._v(" "),a("van-cell-group",[a("van-cell",{attrs:{title:"预计每日平均配送点位数",value:e._f("DataIsNull")(e.detail.deliveryNum)}}),e._v(" "),a("van-cell",{attrs:{title:"预计每日平均总里程(公里)",value:e._f("DataIsNull")(e.detail.distance)}}),e._v(" "),a("van-cell",{attrs:{title:"预计月出车天数",value:e._f("DataIsNull")(e.detail.month)}}),e._v(" "),e._l(e.detail.lineDeliveryInfoFORMS,function(t){return a("van-cell",{key:t.id,attrs:{title:"预计日工作时间"}},[e._v("\n            "+e._s(t.workingTimeStart)+"~"+e._s(t.workingTimeEnd)+"\n          ")])}),e._v(" "),a("van-cell",{attrs:{title:"预计每日货物总体积(立方米)",value:e._f("DataIsNull")(e.detail.volume)}}),e._v(" "),a("van-cell",{attrs:{title:"预计单件货物重量(kg)",value:e._f("DataIsNull")(e.detail.singleCargoWeightName)}}),e._v(" "),a("van-cell",{attrs:{title:"每日配送趟数",value:e._f("DataIsNull")(e.detail.dayNumName)}})],2),e._v(" "),e.detail.deliveryNum?e._e():a("p",{staticClass:"noMore"},[e._v("\n          暂无信息\n        ")])],1),e._v(" "),a("van-tab",{attrs:{title:"关键"}},[a("h2",{staticClass:"van-doc-demo-block__title"},[e._v("\n          关键信息\n        ")]),e._v(" "),a("van-cell-group",[a("van-cell",{attrs:{title:"每日总里程（公里）",value:e._f("DataIsNull")(e.detail.distance)}}),e._v(" "),a("van-cell",{attrs:{title:"预计月收入",value:e._f("DataIsNull")(e.monthlyTransaction)}}),e._v(" "),a("van-cell",{attrs:{title:"配送总时长",value:e._f("DataIsNull")(e.timeDiff)}})],1),e._v(" "),e.detail.distance?e._e():a("p",{staticClass:"noMore"},[e._v("\n          暂无信息\n        ")])],1),e._v(" "),a("van-tab",{attrs:{title:"标书"}},[a("h2",{staticClass:"van-doc-demo-block__title"},[e._v("\n          标书信息\n        ")]),e._v(" "),a("van-cell-group",e._l(e.clueDetail,function(t){return a("van-cell",{key:t.customerName,attrs:{title:t.cityName,value:t.lineName}})}),1),e._v(" "),0===e.clueDetail.length?a("p",{staticClass:"noMore"},[e._v("\n          暂无信息\n        ")]):e._e()],1),e._v(" "),a("van-tab",{attrs:{title:"记录"}},[a("h2",{staticClass:"van-doc-demo-block__title"},[e._v("\n          记录信息\n        ")]),e._v(" "),a("van-cell-group",e._l(e.logList,function(t){return a("van-cell",{key:t.operType,attrs:{title:t.operType,value:"("+t.createrName+")"+t.createDate}})}),1),e._v(" "),0===e.logList.length?a("p",{staticClass:"noMore"},[e._v("\n          暂无信息\n        ")]):e._e()],1)],1),e._v(" "),a("van-button",{staticClass:"btn",attrs:{round:"",type:"info",block:"",disabled:e.disable},on:{click:e.pushSendLink}},[e._v("\n      发送此线路\n    ")]),e._v(" "),e.backBtn?a("div",{staticClass:"backBtn",on:{click:e.goLine}},[a("van-icon",{attrs:{name:"home-o"}})],1):e._e()],1)])},[],!1,null,"dfa01b14",null);e.default=h.exports},b650:function(t,e,a){"use strict";var l=a("c31d"),i=a("2638"),g=a.n(i),n=a("d282"),h=a("ba31"),y=a("b1d2"),N=a("48f4"),D=a("ad06"),I=a("543e"),s=Object(n.a)("button"),r=s[0],k=s[1];function c(t,e,a,l){var i,n=e.tag,s=e.icon,r=e.type,c=e.color,o=e.plain,u=e.disabled,d=e.loading,v=e.hairline,f=e.loadingText,b={};c&&(b.color=o?c:y.f,o||(b.background=c),-1!==c.indexOf("gradient")?b.border=0:b.borderColor=c);var _,m,p=[k([r,e.size,{plain:o,loading:d,disabled:u,hairline:v,block:e.block,round:e.round,square:e.square}]),((i={})[y.b]=v,i)];return t(n,g()([{style:b,class:p,attrs:{type:e.nativeType,disabled:u},on:{click:function(t){d||u||(Object(h.a)(l,"click",t),Object(N.a)(l))},touchstart:function(t){Object(h.a)(l,"touchstart",t)}}},Object(h.b)(l)]),[(m=[],d?m.push(t(I.a,{class:k("loading"),attrs:{size:e.loadingSize,type:e.loadingType,color:"currentColor"}})):s&&m.push(t(D.a,{attrs:{name:s,classPrefix:e.iconPrefix},class:k("icon")})),(_=d?f:a.default?a.default():e.text)&&m.push(t("span",{class:k("text")},[_])),m)])}c.props=Object(l.a)({},N.c,{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),e.a=r(c)},b9dd:function(t,e,a){},bc1b:function(t,e,a){},c194:function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743"),a("1a04")},c3a6:function(t,e,a){"use strict";a("68ef"),a("9d70"),a("3743")},dfaf:function(t,e,a){"use strict";a.d(e,"a",function(){return l});var l={icon:String,size:String,center:Boolean,isLink:Boolean,required:Boolean,clickable:Boolean,iconPrefix:String,titleStyle:null,titleClass:null,valueClass:null,labelClass:null,title:[Number,String],value:[Number,String],label:[Number,String],arrowDirection:String,border:{type:Boolean,default:!0}}}}]);