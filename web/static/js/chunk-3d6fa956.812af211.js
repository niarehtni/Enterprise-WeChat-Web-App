(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-3d6fa956"],{2934:function(t,a,e){"use strict";e.d(a,"a",function(){return i}),e.d(a,"b",function(){return c});var n=e("b775");function i(t){return Object(n.a)({url:"/api/base/base/dict/qryDictByType",method:"get",params:t})}function c(t){return Object(n.a)({url:"/api/product/product/enterprise-weChat/patcher/product-introduce",method:"get",params:t})}},3449:function(t,a,e){},5412:function(t,a,e){"use strict";e.r(a);e("57e7"),e("c5f6"),e("a481");var n,i=e("bd86"),c=(e("0653"),e("34e9")),s=(e("4ddd"),e("9f14")),r=(e("a44c"),e("e27c")),o=(e("66b9"),e("b650")),u=(e("be7f"),e("565f")),d=(e("8a58"),e("e41f")),f=(e("c194"),e("7744")),p=(e("e7e5"),e("d399")),l=(e("a52c"),e("2ed4")),m=(e("7f7f"),e("537a"),e("ac28")),b=e("2934"),g=e("c24f"),h=(e("a715"),window.wx),v={name:"ProductInfo",components:(n={},Object(i.a)(n,m.a.name,m.a),Object(i.a)(n,l.a.name,l.a),Object(i.a)(n,p.a.name,p.a),Object(i.a)(n,f.a.name,f.a),Object(i.a)(n,d.a.name,d.a),Object(i.a)(n,u.a.name,u.a),Object(i.a)(n,o.a.name,o.a),Object(i.a)(n,r.a.name,r.a),Object(i.a)(n,s.a.name,s.a),Object(i.a)(n,c.a.name,c.a),n),data:function(){return{active:1,radio:"",productList:[],total:0,page:1,phone:"",show:!1}},mounted:function(){this.getList()},methods:{getList:function(){var a=this;Object(b.b)({}).then(function(t){t.data.success&&(a.productList=t.data.data)})},submitPhone:function(){if(!/^1[3456789]\d{9}$/.test(this.phone))return p.a.fail("手机号码有误，请重填"),!1;this.$router.replace({path:"/checkrecognition"})},sendCustmer:function(){var e=this,n=window.location.href,i=this.radio;if(""===i)return p.a.fail("请选择一个产品"),!1;Object(g.f)({url:n}).then(function(t){if(t.data.success){var a=t.data.data;h.config({beta:!0,debug:!1,appId:a.corpId,timestamp:Number(a.timestamp),nonceStr:a.nonceStr,signature:a.signature,jsApiList:["agentConfig"]}),h.ready(function(){h.checkJsApi({jsApiList:["agentConfig","sendChatMessage","getCurExternalContact"],success:function(){Object(g.e)({agentId:"1000013",url:n}).then(function(t){if(t.data.success){var a=t.data.data;h.agentConfig({corpid:a.corpId,agentid:a.agentId,timestamp:""+a.timestamp,nonceStr:a.nonceStr,signature:a.signature,jsApiList:["sendChatMessage","getCurExternalContact"],success:function(){h.invoke("sendChatMessage",{msgtype:"image",image:{mediaid:e.productList[i].mediaId}},function(t){})},fail:function(t){-1<t.errMsg.indexOf("is not a function")&&alert('<i class="weui-icon-warn">版本过低请升级</i>')}})}})},fail:function(){alert("版本过低请升级")}})}),h.error(function(t){})}})}}},j=(e("6423"),e("2877")),C=Object(j.a)(v,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ProductInfo"},[n("h2",{staticClass:"van-doc-demo-block__title"},[e._v("\n    产品推荐\n  ")]),e._v(" "),n("van-radio-group",{staticClass:"productBox",model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},e._l(e.productList,function(t,a){return n("van-radio",{key:t.id,staticClass:"productList",attrs:{name:a}},[n("p",{staticClass:"title"},[e._v("\n        产品"+e._s(a+1)+"\n      ")]),e._v(" "),n("img",{staticStyle:{"margin-top":"0.4rem"},attrs:{src:t.mediaUrl,alt:""}})])}),1),e._v(" "),n("van-button",{staticClass:"btn",attrs:{round:"",type:"info",block:""},on:{click:e.sendCustmer}},[e._v("\n    发送给客户\n  ")])],1)},[],!1,null,null,null);a.default=C.exports},6423:function(t,a,e){"use strict";var n=e("3449");e.n(n).a}}]);